<div
  class="flex flex-col mx-auto mb-10 w-full text-xs bg-white rounded-xl border border-black border-solid"
>
  <!-- Stops -->
  <section class="flex flex-col w-auto">
    <!-- Stops -->
    <div class="collapse collapse-arrow collapse-open">
      <input type="checkbox" />
      <div
        class="collapse-title flex justify-between items-center px-6 py-3 w-full text-xl font-bold text-black whitespace-nowrap"
      >
        Stops
      </div>

      <div class="collapse-content">
        <ul>
          @if(filterStats().stopPrices.direct.isPresent){
          <li
            class="flex gap-10 justify-between items-start px-6 py-2 w-auto text-sm text-black"
          >
            <div class="flex gap-3 items-center">
              <input
                type="checkbox"
                checked="checked"
                [value]="'direct'"
                (change)="onStopSelect($event)"
                class="checkbox"
              />
              <span class="self-stretch my-auto">Non Stop</span>
            </div>
            <span>{{ filterStats().stopPrices.direct.formattedPrice }}</span>
          </li>
          } @if(filterStats().stopPrices.one.isPresent){
          <li
            class="flex gap-10 justify-between items-start px-6 py-2 w-auto text-sm text-black"
          >
            <div class="flex gap-3 items-center">
              <input
                type="checkbox"
                checked="checked"
                [value]="'direct'"
                (change)="onStopSelect($event)"
                class="checkbox"
              />
              <span class="self-stretch my-auto">1 Stop</span>
            </div>
            <span>{{ filterStats().stopPrices.one.formattedPrice }}</span>
          </li>
          } @if(filterStats().stopPrices.twoOrMore.isPresent){
          <li
            class="flex gap-10 justify-between items-start px-6 py-2 w-auto text-sm text-black"
          >
            <div class="flex gap-3 items-center">
              <input
                type="checkbox"
                checked="checked"
                [value]="'direct'"
                (change)="onStopSelect($event)"
                class="checkbox"
              />
              <span class="self-stretch my-auto">2 Stops+</span>
            </div>
            <span>{{ filterStats().stopPrices.twoOrMore.formattedPrice }}</span>
          </li>
          }
        </ul>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Flight Time -->
  <section class="flex flex-col w-auto">
    <div class="collapse collapse-arrow collapse-open">
      <input type="checkbox" />
      <div
        class="collapse-title flex justify-between items-center px-6 py-3 w-full text-xl font-bold text-black whitespace-nowrap"
      >
        Flight Time
      </div>

      <div class="collapse-content">
        <div>
          <div class="gap-2 self-stretch px-4 py-2 w-full text-base text-black">
            <strong>Take-off from {{ "Hanoi (HNA)" }}</strong>
          </div>
          <div class="custom-slider px-4 w-full">
            <app-date-slider
              [minTime]="minTimeDeparture()"
              [maxTime]="maxTimeDeparture()"
              (minTimeValueChanged)="handleMinTimeValueChange($event)"
              (maxTimeValueChanged)="handleMaxTimeValueChange($event)"
            ></app-date-slider>
          </div>
        </div>

        <div>
          <div
            class="gap-2.5 self-stretch px-4 py-2 w-full text-base text-black"
          >
            <strong>Landing at {{ "ICN" }}</strong>
          </div>
          <div class="custom-slider px-4 py-2 w-full">
            <app-date-slider
              [minTime]="minTimeLanding()"
              [maxTime]="maxTimeLanding()"
              (minTimeValueChanged)="handleMinTimeLandingValueChange($event)"
              (maxTimeValueChanged)="handleMaxTimeLandingValueChange($event)"
            ></app-date-slider>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Airline -->
  <div class="collapse collapse-arrow collapse-open">
    <input type="checkbox" />
    <div
      class="collapse-title flex justify-between items-center px-6 py-3 w-full text-xl font-bold text-black whitespace-nowrap"
    >
      Airline
    </div>

    <div class="collapse-content">
      <ul>
        @for (airline of filterStats().carriers; track $index) {
        <li
          class="flex gap-10 justify-between items-start px-6 py-2 w-auto text-sm text-black whitespace-nowrap"
        >
          <div class="flex gap-3 items-center">
            <input
              type="checkbox"
              checked="checked"
              class="checkbox"
              [value]="airline.id"
              (change)="onAirlinesSelect($event)"
            />
            <span class="self-stretch my-auto">{{ airline.name }}</span>
          </div>
        </li>
        }
      </ul>
    </div>
  </div>

  <div class="divider"></div>

  <!-- Price -->
  <section class="flex flex-col w-auto">
    <div class="collapse collapse-arrow collapse-open">
      <input type="checkbox" />
      <div
        class="collapse-title flex justify-between items-center px-6 py-3 w-full text-xl font-bold text-black whitespace-nowrap"
      >
        Price
      </div>

      <div class="collapse-content">
        <div class="custom-slider px-4 py-2 w-full">
          <app-slider
            [min]="filterStats().priceRange.minPrice"
            [max]="filterStats().priceRange.maxPrice"
            [label]="'$'"
            (dataChange)="handlePriceChange($event)"
          ></app-slider>
        </div>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Airports -->
  <section class="flex flex-col w-auto">
    <!-- Stops -->
    <div class="collapse collapse-arrow collapse-open">
      <input type="checkbox" />
      <div
        class="collapse-title flex justify-between items-center px-6 py-3 w-full text-xl font-bold text-black whitespace-nowrap"
      >
        Airports
      </div>

      <div class="collapse-content">
        <div class="gap-1 self-stretch px-4 py-2 w-full text-base text-black">
          <strong>Take-off from {{ "Hanoi (HNA)" }}</strong>
        </div>

        <ul>
          @for (airport of filterStats().airports; track $index) {
          <li
            class="flex gap-10 justify-between items-start px-6 py-2 w-auto text-sm text-black"
          >
            <div class="flex gap-3 items-center">
              <input
                type="checkbox"
                checked="checked"
                class="checkbox"
                [value]="airport.city"
                (change)="onAirportSelect($event)"
              />
              <span class="self-stretch my-auto">{{ airport.city }}</span>
            </div>
          </li>
          }
        </ul>
      </div>
    </div>
  </section>
</div>
