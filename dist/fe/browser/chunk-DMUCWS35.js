import{E as m,H as f,K as c,ac as d,bc as a,hc as v,kc as l,o as n,v as s,vb as p,xb as g}from"./chunk-YACVS6DH.js";var L=(()=>{class i{constructor(t,r){this.http=t,this.tokenService=r}getLocations(t){console.log("API call initiated for:",t);let r=this.tokenService.getAccessToken();return this.http.get(`${a}/flights/search/auto-complete`,{params:{keyword:t}}).pipe(m(e=>console.log("API response received:",e)))}searchOneWay(t){let r=`${a}/flights/search/one-way`,o=new p({fromObject:t});return this.http.get(r,{params:o}).pipe(s(e=>(console.error("An error occurred:",e),n(()=>new Error("Something went wrong; please try again later.")))))}searchRoundTrip(t){let r=`${a}/flights/search/round-trip`,o=new p({fromObject:t});return this.http.get(r,{params:o}).pipe(s(e=>(console.error("An error occurred:",e),n(()=>new Error("Something went wrong; please try again later.")))))}searchDetail(t,r){let o=`${a}/flights/search/detail`,e={itineraryId:t,token:r};return this.http.get(o,{params:e})}static{this.\u0275fac=function(r){return new(r||i)(c(g),c(d))}}static{this.\u0275prov=f({token:i,factory:i.\u0275fac})}}return i})();var B=i=>{let h=[],t;return t=i.map((r,o,e)=>{let w=l(r.departure),y=l(r.arrival),k=r.duration,A=r.marketingCarrier.logo,S=r.marketingCarrier.name,I=r.origin.name+" ("+r.origin.displayCode+")",u=r.destination.name+" ("+r.destination.displayCode+")";if(o<e.length-1){let T=e[o+1],j=v(T.departure,r.arrival);h.push({duration:j,layoverAirport:u})}return{departureTime:w,departureAirport:I,arrivalTime:y,arrivalAirport:u,duration:k,flightLogoBrand:A,flightLogoBrandName:S}}),{flightSegmentInfo:t,layoverInfo:h}};export{L as a,B as b};
